<?xml version="1.0" encoding="utf-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head> <title>SystemTopology</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- mathjax,charset=utf-8,html,xhtml --> 
<meta name="src" content="documentation.tex" /> 
<link rel="stylesheet" type="text/css" href="documentation.css" /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script type="text/javascript" async="async" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>  
</head><body 
>
<div class="maketitle">
                                                                                       
                                                                                       
                                                                                       
                                                                                       

<h2 class="titleHead">SystemTopology</h2>
 <div class="author" ><span 
class="cmr-12">Erik Schnetter </span><span 
class="cmmi-12">&#x003C;</span><span 
class="cmr-12">schnetter@gmail.com</span><span 
class="cmmi-12">&#x003E;</span></div>
<br />
<div class="date" ><span 
class="cmr-12">April 26 2015</span></div>
</div>
<div 
class="abstract" 
>
<h3 class="abstracttitle">
<span 
class="cmbx-9">Abstract</span>
</h3>
</div>
<h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Introduction</h3>
<!--l. 110--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-20002"></a>Physical System</h3>
                                                                                       
                                                                                       
<!--l. 112--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-30003"></a>Numerical Implementation</h3>
<!--l. 114--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-40004"></a>Using This Thorn</h3>
<!--l. 116--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a 
 id="x1-50004.1"></a>Obtaining This Thorn</h4>
<!--l. 118--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a 
 id="x1-60004.2"></a>Basic Usage</h4>
<!--l. 120--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a 
 id="x1-70004.3"></a>Special Behaviour</h4>
<!--l. 122--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">4.4   </span> <a 
 id="x1-80004.4"></a>Interaction With Other Thorns</h4>
<!--l. 124--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">4.5   </span> <a 
 id="x1-90004.5"></a>Examples</h4>
                                                                                       
                                                                                       
<!--l. 126--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">4.6   </span> <a 
 id="x1-100004.6"></a>Support and Feedback</h4>
<!--l. 128--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-110005"></a>History</h3>
<!--l. 130--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-120005.1"></a>Thorn Source Code</h4>
<!--l. 132--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-130005.2"></a>Thorn Documentation</h4>
<!--l. 134--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-140005.3"></a>Acknowledgements</h4>
<!--l. 137--><p class="noindent" >
</p>
<h3 class="likesectionHead"><a 
 id="x1-15000"></a>References</h3>
<!--l. 137--><p class="noindent" >
                                                                                       
                                                                                       
</p><!--l. 146--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-160006"></a>Parameters</h3>
<!--l. 165--><p class="noindent" ></p> <table id="TBL-2" class="tabular" 
 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1" /></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2" /><col 
id="TBL-2-3" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:normal; text-align:left;" id="TBL-2-1-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">set_thread_bindings</div> </td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-1-2"  
class="td10"> <span 
class="cmbx-10">Scope: </span>private</td><td  style="white-space:nowrap; text-align:right;" id="TBL-2-1-3"  
class="td01">                                         KEYWORD  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td colspan="3" style="white-space:normal; text-align:left;" id="TBL-2-2-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;"><span 
class="cmbx-10">Description: </span><span 
class="cmti-10">Set thread bindings (aka thread-CPU affinity)</span></div>                                                      
</td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-1"  
class="td11">      <span 
class="cmbx-10">Range        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-3-2"  
class="td10">              </td><td  style="white-space:nowrap; text-align:right;" id="TBL-2-3-3"  
class="td01">                                        <span 
class="cmbx-10">Default: </span>auto  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:normal; text-align:left;" id="TBL-2-4-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">yes</div>                      </td><td colspan="2" style="white-space:normal; text-align:left;" id="TBL-2-4-2"  
class="td10"> <div class="multicolumn"  style="white-space:normal; text-align:left;">set bindings</div>                                                                                          
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:normal; text-align:left;" id="TBL-2-5-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">no</div>                       </td><td colspan="2" style="white-space:normal; text-align:left;" id="TBL-2-5-2"  
class="td10"> <div class="multicolumn"  style="white-space:normal; text-align:left;">no not modify bindings</div>                                                                            
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:normal; text-align:left;" id="TBL-2-6-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">auto</div>                    </td><td colspan="2" style="white-space:normal; text-align:left;" id="TBL-2-6-2"  
class="td10"> <div class="multicolumn"  style="white-space:normal; text-align:left;">depends on system architecture</div>                                                                 
</td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-7-1"  
class="td11">                  </td></tr></table>
<!--l. 172--><p class="noindent" ></p> <table id="TBL-3" class="tabular" 
 
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1" /></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2" /><col 
id="TBL-3-3" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:normal; text-align:left;" id="TBL-3-1-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">thread_layout</div>       </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-2"  
class="td10"> <span 
class="cmbx-10">Scope: </span>private</td><td  style="white-space:nowrap; text-align:right;" id="TBL-3-1-3"  
class="td01">                                         KEYWORD  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td colspan="3" style="white-space:normal; text-align:left;" id="TBL-3-2-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;"><span 
class="cmbx-10">Description: </span><span 
class="cmti-10">How to lay out threads over cores</span></div>                                                                     
</td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-1"  
class="td11">      <span 
class="cmbx-10">Range        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-2"  
class="td10">              </td><td  style="white-space:nowrap; text-align:right;" id="TBL-3-3-3"  
class="td01">                                       <span 
class="cmbx-10">Default: </span>dense  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:normal; text-align:left;" id="TBL-3-4-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">dense</div>                   </td><td colspan="2" style="white-space:normal; text-align:left;" id="TBL-3-4-2"  
class="td10"> <div class="multicolumn"  style="white-space:normal; text-align:left;">Pack threads on as few NUMA nodes/cores as possible</div>                                  
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:normal; text-align:left;" id="TBL-3-5-1"  
class="td11"> <div class="multicolumn"  style="white-space:normal; text-align:left;">loose</div>                   </td><td colspan="2" style="white-space:normal; text-align:left;" id="TBL-3-5-2"  
class="td10"> <div class="multicolumn"  style="white-space:normal; text-align:left;">Spread threads over all NUMA nodes/cores</div>                                                 
</td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-1"  
class="td11">                  </td></tr></table>
<!--l. 181--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-170007"></a>Interfaces</h3>
<!--l. 186--><p class="noindent" >
</p>
<h4 class="likesubsectionHead"><a 
 id="x1-18000"></a>General</h4>
<!--l. 188--><p class="noindent" ><span 
class="cmbx-10">Implements</span>:
</p><!--l. 190--><p class="noindent" >systemtopology
</p><!--l. 195--><p class="noindent" ><span 
class="cmbx-10">Provides</span>:
</p><!--l. 199--><p class="noindent" >GetNumSMTThreads to
</p><!--l. 201--><p class="noindent" >GetMaxSMTThreads to
</p><!--l. 203--><p class="noindent" >GetCacheInfo1 to
</p><!--l. 205--><p class="noindent" >GetMPIProcessInfo to
</p><!--l. 208--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">8   </span> <a 
 id="x1-190008"></a>Schedule</h3>
<!--l. 214--><p class="noindent" >This section lists all the variables which are assigned storage by thorn CactusUtils/SystemTopology. Storage can
either last for the duration of the run (<span 
class="cmbx-10">Always </span>means that if this thorn is activated storage will
be assigned, <span 
class="cmbx-10">Conditional </span>means that if this thorn is activated storage will be assigned for the
duration of the run if some condition is met), or can be turned on for the duration of a schedule
function.
                                                                                       
                                                                                       
</p><!--l. 217--><p class="noindent" >
</p>
<h4 class="likesubsectionHead"><a 
 id="x1-20000"></a>Storage</h4>
<!--l. 217--><p class="noindent" >NONE
</p>
<h4 class="likesubsectionHead"><a 
 id="x1-21000"></a>Scheduled Functions</h4>
<!--l. 221--><p class="noindent" ><span 
class="cmbx-10">CCTK</span><span 
class="cmbx-10">_STARTUP</span>
</p><!--l. 223--><p class="noindent" >      st_system_topology
</p><!--l. 225--><p class="noindent" >     <span 
class="cmti-10">output and/or modify system topology and hardware locality</span>
</p><!--l. 228--><p class="noindent" > 
</p><!--l. 230--><p class="noindent" ></p> <table id="TBL-4" class="tabular" 
 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1" /><col 
id="TBL-4-2" /><col 
id="TBL-4-3" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-1"  
class="td11">    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-2"  
class="td11"> After:        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-3"  
class="td11"> hwloc_startup  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-1"  
class="td11">    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-2"  
class="td11"> Before:      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-3"  
class="td11"> driver_startup  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-1"  
class="td11">    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-2"  
class="td11"> Language:  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-3"  
class="td11"> c                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-1"  
class="td11">    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-2"  
class="td11"> Type:        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-3"  
class="td11"> function          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-1"  
class="td11">    </td></tr></table>
 
</body></html> 

                                                                                       


