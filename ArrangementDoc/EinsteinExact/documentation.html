<?xml version="1.0" encoding="utf-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head> <title>EinsteinExact</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- mathjax,charset=utf-8,html,xhtml --> 
<meta name="src" content="documentation.tex" /> 
<link rel="stylesheet" type="text/css" href="documentation.css" /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script type="text/javascript" async="async" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>  
</head><body 
>
<div class="maketitle">
                                                                                       
                                                                                       
                                                                                       
                                                                                       

<h2 class="titleHead">EinsteinExact</h2>
 <div class="author" ><span 
class="cmr-12">Barry Wardell and Ian Hinder</span></div>
<br />
<div class="date" ><span 
class="cmr-12">10 May 2012</span></div>
</div>
<div 
class="abstract" 
>
<h3 class="abstracttitle">
<span 
class="cmbx-9">Abstract</span>
</h3>
     <!--l. 17--><p class="noindent" ><span 
class="cmr-9">The </span><span 
class="cmcsc-10x-x-90">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span><span 
class="cmr-9">arrangement provides a collection of thorns which compute exact solutions to</span>
     <span 
class="cmr-9">the Einstein equation and set the</span> \(3+1\) <span 
class="cmr-9">ADM variables provided by the </span><span 
class="cmcsc-10x-x-90">ADMB<span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">e</span> </span><span 
class="cmr-9">thorn. The solutions</span>
     <span 
class="cmr-9">may be computed either as initial data, or at each iteration of an evolution. The computation is done</span>
     <span 
class="cmr-9">analytically from expressions for the metric which are taken from a database of solutions provided</span>
     <span 
class="cmr-9">by the </span><span 
class="cmcsc-10x-x-90">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span><span 
class="cmr-9">package for </span><span 
class="cmcsc-10x-x-90">M<span 
class="small-caps">a</span><span 
class="small-caps">t</span><span 
class="small-caps">h</span><span 
class="small-caps">e</span><span 
class="small-caps">m</span><span 
class="small-caps">a</span><span 
class="small-caps">t</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">a</span></span><span 
class="cmr-9">. Adding new solutions to </span><span 
class="cmcsc-10x-x-90">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span><span 
class="cmr-9">only requires</span>
     <span 
class="cmr-9">that the metric be added to this database.</span>
</p>
</div>
<h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Introduction</h3>
<!--l. 28--><p class="noindent" >The <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>code relies on the fact that a given analytic expression for the \(4\)-metric \(g_{ab}\) (and its
inverse \(g^{ab}\)) of a spacetime may be decomposed into the \(3+1\) ADM variables, \begin {equation}  g_{ab} = \left ( \begin {array}{cc} -\alpha ^2 + \beta _k \beta ^k &amp; \beta _i \\ \beta _i &amp; \gamma _{ij}\\ \end {array} \right ),\quad g^{ab} = \left ( \begin {array}{cc} -1/\alpha ^2 &amp; \beta ^i / \alpha ^2 \\ \beta ^i / \alpha ^2 &amp; \gamma ^{ij} - \beta ^i \beta ^j / \alpha ^2\\ \end {array} \right ),  \end {equation}<a 
 id="x1-1001r1"></a> where \(\alpha \) is the lapse, \(\beta ^i\) is the
shift and \(\gamma _{ij}\) is the three metric on the slice. The <span 
class="cmcsc-10">ADMB<span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">e</span> </span>variables for the lapse, shift and three
metric may therefore be directly obtained from components of the four metric and its inverse: \begin {equation}  \alpha = \frac {1}{\sqrt {-g_{00}}},\quad \beta ^i = \alpha ^2 g^{0i},\quad \gamma _{ij} = g_{ij}.  \end {equation}<a 
 id="x1-1002r2"></a>
Another <span 
class="cmcsc-10">ADMB<span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">e</span> </span>variable which must be set is the extrinsic curvature \(K_{ij}\). This may be written as \begin {equation}  K_{ij} = -\frac {1}{2\alpha } \mathcal {L}_{\alpha \vec {n}} \gamma _{ij}  \end {equation}<a 
 id="x1-1003r3"></a>
where \(\mathcal {L}\) is the Lie derivative and \(\vec {n}\) is the normal to the slice. Explicitly expanding this out gives
                                                                                       
                                                                                       
\begin {align}  K_{ij} = &amp; \frac {1}{2\alpha } (-\partial _t \gamma _{ij} + D_i \beta _j + D_j \beta _i) \nonumber \\ = &amp; \frac {1}{2\alpha } (-\partial _t \gamma _{ij} + \beta ^k \partial _k \gamma _{ij} + \gamma _{ik} \partial _j \beta ^k + \gamma _{kj} \partial _i \beta ^k )  \end {align}
</p><!--l. 71--><p class="noindent" >which is readily computed from the previous analytic expressions for \(\alpha \), \(\beta ^i\) and \(\gamma _{ij}\). Finally, the <span 
class="cmcsc-10">ADMB<span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">e</span> </span>variables
for the time derivatives for the lapse and shift are computed by analytically differentiating \(\alpha \) and \(\beta ^i\) with respect to
\(t\).
</p><!--l. 76--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-20002"></a>Obtaining EinsteinExact</h3>
<!--l. 77--><p class="noindent" >The latest version of <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>will always be available from the project git repository:
</p><!--l. 80--><p class="noindent" ><span 
class="cmtt-10">git clone git://github.com/barrywardell/EinsteinExact</span>
</p><!--l. 82--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-30003"></a>Using EinsteinExact</h3>
<!--l. 83--><p class="noindent" >The <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>thorns are designed to work with <span 
class="cmcsc-10">C<span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span><span 
class="small-caps">u</span><span 
class="small-caps">s</span> </span>as part of the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span> T<span 
class="small-caps">o</span><span 
class="small-caps">o</span><span 
class="small-caps">l</span><span 
class="small-caps">k</span><span 
class="small-caps">i</span><span 
class="small-caps">t</span></span>. All
requirements are therefore already included with the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span> T<span 
class="small-caps">o</span><span 
class="small-caps">o</span><span 
class="small-caps">l</span><span 
class="small-caps">k</span><span 
class="small-caps">i</span><span 
class="small-caps">t</span></span>.
</p><!--l. 87--><p class="noindent" >To use an <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>thorn, include the thorn for your desired spacetime in your thornlist and in
the <span 
class="cmtt-10">ActiveThorns</span> section of your parameter file and set either the <span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_data</span> or
<span 
class="cmtt-10">ADMBase::evolution</span><span 
class="cmtt-10">_method</span> parameters (or both) described below. It is also necessary to set
the <span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_lapse</span>, <span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_dtlapse</span>, <span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_shift</span> and
<span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_dtshift</span> parameters in order for storage to be allocated for all <span 
class="cmcsc-10">ADMB<span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">e</span> </span>variables set by
EinsteinExact.
</p><!--l. 94--><p class="noindent" >As each thorn sets the ADM variables for a specific spacetime in some particular coordinate system it only
makes sense to have one thorn in the arrangement activated at a time.
</p><!--l. 98--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-40004"></a>Common parameters</h3>
<!--l. 99--><p class="noindent" >Although there is a separate <span 
class="cmcsc-10">C<span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span><span 
class="small-caps">u</span><span 
class="small-caps">s</span> </span>thorn for each supported spacetime, all thorns are generated from the
same <span 
class="cmcsc-10">K<span 
class="small-caps">r</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">c</span> </span>script and therefore share some common parameters. The parameters supported by all thorns are
listed in this section.
                                                                                       
                                                                                       
</p><!--l. 104--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.1   </span> <a 
 id="x1-50004.0.1"></a><span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_data</span></h5>
<!--l. 105--><p class="noindent" >The ADM variables can be set by <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>as initial data for an evolution. Each <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>thorn
extends the <span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_data</span> keyword parameter with another option corresponding to the name of the
thorn. If the parameter is set to the thorn name, then initial data for the ADM variables will be set by the thorn
in the <span 
class="cmtt-10">ADMBase</span><span 
class="cmtt-10">_InitialData</span> schedule bin.
</p><!--l. 113--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.2   </span> <a 
 id="x1-60004.0.2"></a><span 
class="cmtt-10">ADMBase::evolution</span><span 
class="cmtt-10">_method</span></h5>
<!--l. 114--><p class="noindent" >The setting of the ADM variables can optionally be done at each step in an evolution. Each <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span></span>
thorn extends the <span 
class="cmtt-10">ADMBase::evolution</span><span 
class="cmtt-10">_method</span> keyword parameter with another option corresponding to the
name of the thorn. If the parameter is set to the thorn name, then the ADM variables will be set by the thorn at
each iteration during the <span 
class="cmtt-10">ANALYSIS</span> schedule bin.
</p><!--l. 121--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.3   </span> <a 
 id="x1-70004.0.3"></a><span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_lapse</span></h5>
<!--l. 122--><p class="noindent" >Each EinsteinExact thorn extends this keyword parameter with another option corresponding to the name of the
thorn. This parameter is currently ignored by the EinsteinExact code but must be set nonetheless in order to
ensure storage is allocated for the lapse variable.
</p><!--l. 127--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.4   </span> <a 
 id="x1-80004.0.4"></a><span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_shift</span></h5>
<!--l. 128--><p class="noindent" >Each EinsteinExact thorn extends this keyword parameter with another option corresponding to the name of the
thorn. This parameter is currently ignored by the EinsteinExact code but must be set nonetheless in order to
ensure storage is allocated for the shift variables.
</p><!--l. 133--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.5   </span> <a 
 id="x1-90004.0.5"></a><span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_dtlapse</span></h5>
                                                                                       
                                                                                       
<!--l. 134--><p class="noindent" >Each EinsteinExact thorn extends this keyword parameter with another option corresponding to the name of the
thorn. This parameter is currently ignored by the EinsteinExact code but must be set nonetheless in order to
ensure storage is allocated for the dtlapse variable.
</p><!--l. 139--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.6   </span> <a 
 id="x1-100004.0.6"></a><span 
class="cmtt-10">ADMBase::initial</span><span 
class="cmtt-10">_dtshift</span></h5>
<!--l. 140--><p class="noindent" >Each EinsteinExact thorn extends this keyword parameter with another option corresponding to the name of the
thorn. This parameter is currently ignored by the EinsteinExact code but must be set nonetheless in order to
ensure storage is allocated for the dtshift variables.
</p><!--l. 145--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.7   </span> <a 
 id="x1-110004.0.7"></a>Origin: <span 
class="cmtt-10">timeoffset</span>, <span 
class="cmtt-10">positionx</span>, <span 
class="cmtt-10">positiony</span>, <span 
class="cmtt-10">positionz</span></h5>
<!--l. 146--><p class="noindent" >These parameters specify the position at which the origin of the spacetime should be located.
</p><!--l. 149--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.8   </span> <a 
 id="x1-120004.0.8"></a>Lapse: <span 
class="cmtt-10">lapsefactor</span></h5>
<!--l. 150--><p class="noindent" >Factor that should rescale the lapse such that \(\alpha ' = \tfrac {1}{\code {lapsefactor}}~ \alpha \). This has the effect of rescaling the time coordinate so
that \(t' = \code {lapsefactor}~ t\). Note that this also has the effect of rescaling the shift by a factor \(\tfrac {1}{\code {lapsefactor}}\) (see xform.nb for more
details).
</p><!--l. 156--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.9   </span> <a 
 id="x1-130004.0.9"></a>Shift: <span 
class="cmtt-10">shiftaddx</span>, <span 
class="cmtt-10">shiftaddy</span>, <span 
class="cmtt-10">shiftaddz</span></h5>
<!--l. 157--><p class="noindent" >Shift that should be added to the metric. This has the effect of adding an offset to the spatial coordinates so that
\(x' = x - \code {shiftaddx}~ t'\), \(y' = y - \code {shiftaddy}~ t'\), \(z' = z - \code {shiftaddz}~ t'\) (see xform.nb for more details).
</p><!--l. 162--><p class="noindent" >
</p>
                                                                                       
                                                                                       
<h5 class="subsubsectionHead"><span class="titlemark">4.0.10   </span> <a 
 id="x1-140004.0.10"></a>Lorentz Boost: <span 
class="cmtt-10">boostx</span>, <span 
class="cmtt-10">boosty</span>, <span 
class="cmtt-10">boostz</span></h5>
<!--l. 163--><p class="noindent" >Lorentz-boost the spacetime by a velocity \(v^i = [\code {boostx}, \code {boosty}, \code {boostz}]\). This applies a Lorentz boost transformation to the coordinates of the
form \begin {equation}  \begin {bmatrix} t' \\ \mathbf {r'} \end {bmatrix} = \begin {bmatrix} \gamma &amp; - \gamma \boldsymbol {\beta }^{\mathrm {T}} \\ -\gamma \boldsymbol {\beta } &amp; \mathbf {I} + \gamma ^2 / (\gamma +1) \boldsymbol {\beta }\boldsymbol {\beta }^{\mathrm {T}} \\ \end {bmatrix} \begin {bmatrix} t \\ \mathbf {r} \end {bmatrix}.  \end {equation}<a 
 id="x1-14001r4"></a>
</p><!--l. 183--><p class="noindent" >
</p>
<h5 class="subsubsectionHead"><span class="titlemark">4.0.11   </span> <a 
 id="x1-150004.0.11"></a>Rotation: <span 
class="cmtt-10">theta</span>, <span 
class="cmtt-10">phi</span>, <span 
class="cmtt-10">psi</span></h5>
<!--l. 184--><p class="noindent" >The spacetime may have an arbitrary \(3\)D rigid rotation applied to it. This rotation is specified by the <span 
class="cmtt-10">theta</span>, <span 
class="cmtt-10">phi</span>
and <span 
class="cmtt-10">psi</span> parameters which correspond to the Euler angles of the rotation. The conventions used are such that
the rotations are given by the three rotation matrices <span class="cite">[<a 
href="#XEinsteinExact_Euler">1</a>]</span>: \begin {align}  R_\phi =&amp; \left ( \begin {array}{ccc} \cos (\phi ) &amp; \sin (\phi ) &amp; 0 \\ -\sin (\phi ) &amp; \cos (\phi ) &amp; 0 \\ 0 &amp; 0 &amp; 1 \\ \end {array} \right ), \nonumber \\ R_\theta =&amp; \left ( \begin {array}{ccc} 1 &amp; 0 &amp; 0 \\ 0 &amp; \cos (\theta ) &amp; \sin (\theta ) \\ 0 &amp; -\sin (\theta ) &amp; \cos (\theta ) \\ \end {array} \right ), \nonumber \\ R_\psi =&amp; \left ( \begin {array}{ccc} \cos (\psi ) &amp; \sin (\psi ) &amp; 0 \\ -\sin (\psi ) &amp; \cos (\psi ) &amp; 0 \\ 0 &amp; 0 &amp; 1 \\ \end {array} \right ).  \end {align}
</p><!--l. 215--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-160005"></a>Included spacetimes</h3>
<!--l. 217--><p class="noindent" >This section lists all spacetimes currently supported by <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span></span>.
</p><!--l. 220--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-170005.1"></a>GaugeWave</h4>
<!--l. 221--><p class="noindent" ><span 
class="cmbx-10">Description: </span>4D flat spacetime in Cartesian gauge wave coordinates <br 
class="newline" /><span 
class="cmbx-10">Thorn name: </span>GaugeWave <br 
class="newline" /><span 
class="cmbx-10">Parameters:</span> amp, period <br 
class="newline" /><span 
class="cmbx-10">Metric: </span><br 
class="newline" />\begin {equation}  g_{ab} = \left ( \begin {array}{cccc} \text {amp} \sin \left (\frac {2 \pi (x-t)}{\text {period}}\right )-1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1-\text {amp} \sin \left (\frac {2 \pi (x-t)}{\text {period}}\right ) &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\ \end {array} \right )  \end {equation}<a 
 id="x1-17001r5"></a>
</p><!--l. 237--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-180005.2"></a>KerrSchild</h4>
<!--l. 238--><p class="noindent" ><span 
class="cmbx-10">Description: </span>Kerr spacetime in Kerr-Schild coordinates <br 
class="newline" /><span 
class="cmbx-10">Thorn name: </span>KerrSchild <br 
class="newline" /><span 
class="cmbx-10">Parameters:</span> <span 
class="cmtt-10">M</span>, <span 
class="cmtt-10">a</span> <br 
class="newline" /><span 
class="cmbx-10">Metric: </span><br 
class="newline" />\begin {equation}  g_{ab} = \left ( \begin {array}{cccc} \frac {2 M r^3}{a^2 z^2+r^4}-1 &amp; \frac {2 M r^3 (a y+r x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^3 (r y-a x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^2 z}{a^2 z^2+r^4} \\ \frac {2 M r^3 (a y+r x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^3 (a y+r x)^2}{\left (a^2+r^2\right )^2 \left (a^2 z^2+r^4\right )}+1 &amp; \frac {2 M r^3 (a y+r x) (r y-a x)}{\left (a^2+r^2\right )^2 \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^2 z (a y+r x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} \\ \frac {2 M r^3 (r y-a x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^3 (a y+r x) (r y-a x)}{\left (a^2+r^2\right )^2 \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^3 (r y-a x)^2}{\left (a^2+r^2\right )^2 \left (a^2 z^2+r^4\right )}+1 &amp; \frac {2 M r^2 z (r y-a x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} \\ \frac {2 M r^2 z}{a^2 z^2+r^4} &amp; \frac {2 M r^2 z (a y+r x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r^2 z (r y-a x)}{\left (a^2+r^2\right ) \left (a^2 z^2+r^4\right )} &amp; \frac {2 M r z^2}{a^2 z^2+r^4}+1 \\ \end {array} \right )  \end {equation}<a 
 id="x1-18001r6"></a> where \begin {equation}  r(x,y,z)=\frac {\sqrt {\sqrt {\left (-a^2+x^2+y^2+z^2\right )^2+4 a^2 z^2}-a^2+x^2+y^2+z^2}}{\sqrt {2}}  \end {equation}<a 
 id="x1-18002r7"></a>
</p><!--l. 258--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-190005.3"></a>Minkowski</h4>
<!--l. 259--><p class="noindent" ><span 
class="cmbx-10">Description: </span>4D flat spacetime in Cartesian coordinates <br 
class="newline" /><span 
class="cmbx-10">Thorn name: </span>Minkowski <br 
class="newline" /><span 
class="cmbx-10">Metric: </span><br 
class="newline" />\begin {equation}  g_{ab} = \left ( \begin {array}{cccc} -1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\ \end {array} \right )  \end {equation}<a 
 id="x1-19001r8"></a>
</p><!--l. 274--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a 
 id="x1-200005.4"></a>ShiftedGaugeWave</h4>
<!--l. 275--><p class="noindent" ><span 
class="cmbx-10">Description: </span>4D flat spacetime in Cartesian shifted gauge wave coordinates <br 
class="newline" /><span 
class="cmbx-10">Thorn name: </span>ShiftedGaugeWave <br 
class="newline" /><span 
class="cmbx-10">Parameters:</span> amp, period <br 
class="newline" /><span 
class="cmbx-10">Metric: </span><br 
class="newline" />\begin {equation}  g_{ab} = \left ( \begin {array}{cccc} \text {amp} \sin \left (\frac {2 \pi (x-t)}{\text {period}}\right )-1 &amp; -\text {amp} \sin \left (\frac {2 \pi (x-t)}{\text {period}}\right ) &amp; 0 &amp; 0 \\ -\text {amp} \sin \left (\frac {2 \pi (x-t)}{\text {period}}\right ) &amp; \text {amp} \sin \left (\frac {2 \pi (x-t)}{\text {period}}\right )+1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\ \end {array} \right )  \end {equation}<a 
 id="x1-20001r9"></a>
</p><!--l. 291--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a 
 id="x1-210005.5"></a>Vaidya</h4>
<!--l. 292--><p class="noindent" ><span 
class="cmbx-10">Description: </span>A Vaidya spacetime with mass function m(v) = M (1 + Tanh[v dM / M]\({}^{\wedge }\)2) <br 
class="newline" /><span 
class="cmbx-10">Thorn name: </span>Vaidya2 <br 
class="newline" /><span 
class="cmbx-10">Parameters:</span> <span 
class="cmtt-10">M</span>, dM <br 
class="newline" /><span 
class="cmbx-10">Metric: </span><br 
class="newline" />\begin {equation}  g_{ab} = \left ( \begin {array}{cccc} \frac {2 m}{r}-1 &amp; \frac {2 m x}{r^2} &amp; \frac {2 m y}{r^2} &amp; \frac {2 m z}{r^2} \\ \frac {2 m x}{r^2} &amp; \frac {2 m x^2}{r^3}+1 &amp; \frac {2 m x y}{r^3} &amp; \frac {2 m x z}{r^3} \\ \frac {2 m y}{r^2} &amp; \frac {2 m x y}{r^3} &amp; \frac {2 m y^2}{r^3}+1 &amp; \frac {2 m y z}{r^3} \\ \frac {2 m z}{r^2} &amp; \frac {2 m x z}{r^3} &amp; \frac {2 m y z}{r^3} &amp; \frac {2 m z^2}{r^3}+1 \\ \end {array} \right )  \end {equation}<a 
 id="x1-21001r10"></a> where \begin {equation}  r(x,y,z)=\sqrt {x^2+y^2+z^2}  \end {equation}<a 
 id="x1-21002r11"></a> \begin {equation}  m(t,x,y,z)=M \left (\tanh ^2\left (\frac {\text {dM} \left (t+\sqrt {x^2+y^2+z^2}\right )}{M}\right )+1\right )  \end {equation}<a 
 id="x1-21003r12"></a>
</p><!--l. 315--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">5.6   </span> <a 
 id="x1-220005.6"></a>ModifiedSchwarzschildBL</h4>
<!--l. 316--><p class="noindent" ><span 
class="cmbx-10">Description: </span>Modified Schwarzschild spacetime in Brill-Lindquist coordinates with a radially dependent mass
inside the black hole <br 
class="newline" /><span 
class="cmbx-10">Thorn name: </span>ModifiedSchwarzschildBL <br 
class="newline" /><span 
class="cmbx-10">Parameters:</span> <span 
class="cmtt-10">M</span>, <span 
class="cmtt-10">epsilon</span> <br 
class="newline" /><span 
class="cmbx-10">Metric: </span><br 
class="newline" />\begin {equation}  g_{ab} = \left ( \begin {array}{cccc} -1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; \left (1+\frac {M(r)}{2 r}\right )^4 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; \left (1+\frac {M(r)}{2 r}\right )^4 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; \left (1+\frac {M(r)}{2 r}\right )^4 \\ \end {array} \right )  \end {equation}<a 
 id="x1-22001r13"></a> where \begin {equation}  r(x,y,z)=\sqrt {x^2+y^2+z^2}  \end {equation}<a 
 id="x1-22002r14"></a> \begin {equation}  M(r) = \left \{ \begin {array}{lr} 4 r - \frac {8 \frac {r^2}{2} + [\cos (\frac {4 \pi r}{M}) - 1] \left (\frac {M}{4 \pi }\right )^2}{M} &amp; : r &lt; M/2\\ M &amp; : r \ge M/2 \end {array} \right .  \end {equation}<a 
 id="x1-22003r15"></a>
</p><!--l. 344--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-230006"></a>Modifying EinsteinExact</h3>
<!--l. 346--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">6.1   </span> <a 
 id="x1-240006.1"></a>Generating the code</h4>
<!--l. 347--><p class="noindent" >The script which generates the thorns requires the <span 
class="cmcsc-10">K<span 
class="small-caps">r</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">c</span> </span>and <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> M<span 
class="small-caps">a</span><span 
class="small-caps">t</span><span 
class="small-caps">h</span><span 
class="small-caps">e</span><span 
class="small-caps">m</span><span 
class="small-caps">a</span><span 
class="small-caps">t</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">a</span> </span>packages to be
installed. <span 
class="cmcsc-10">K<span 
class="small-caps">r</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">c</span> </span>is included with the Einstein Toolkit and the <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>package is included in the <span 
class="cmtt-10">Metrics</span>
directory.
</p><!--l. 352--><p class="noindent" >To regenerate the code <span 
class="cmtt-10">make</span> from within the <span 
class="cmtt-10">m</span> directory.
</p><!--l. 354--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">6.2   </span> <a 
 id="x1-250006.2"></a>Adding a spacetime</h4>
<!--l. 355--><p class="noindent" >To add a new spacetime to <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span></span>, simply create a new file for the spacetime under <span 
class="cmtt-10">m/Metrics/metrics/</span>
and then add this spacetime to the <span 
class="cmtt-10">thorns = </span><span 
class="cmtt-10">…</span> and <span 
class="cmtt-10">spacetimes = </span><span 
class="cmtt-10">…</span> lines at the end of the <span 
class="cmcsc-10">K<span 
class="small-caps">r</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">c</span> </span>script in
<span 
class="cmtt-10">m/EinsteinExact.m</span>. Also consider adding a regression test to the <span 
class="cmtt-10">EinsteinExact</span><span 
class="cmtt-10">_test</span> thorn and correctness
tests under the <span 
class="cmtt-10">tests</span> directory.
</p><!--l. 362--><p class="noindent" >If you think this spacetime would be of use to others, please consider submitting a patch. As all of the
spacetimes in the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>arrangement come from them <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>database it is highly preferable to
have new spacetimes added to the upstream repository for the <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>package. The version of the <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span></span>
package used by <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>can then be updated.
</p><!--l. 369--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">6.3   </span> <a 
 id="x1-260006.3"></a>Updating the Metrics database</h4>
                                                                                       
                                                                                       
<!--l. 370--><p class="noindent" >The <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>database exists as a separate git repository. For convenience, a version of
it is included with <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>under the <span 
class="cmtt-10">m/Metrics</span> directory. This is a version
of the standalone <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>repository which has been merged using the <span 
class="cmtt-10">git-subtree</span>
command<span class="footnote-mark"><a 
href="documentation2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-26001f1"></a> .
</p><!--l. 378--><p class="noindent" >If a new version of the <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>package becomes available, the version in the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>repository may
be updated using the following command:
                                                                                       
                                                                                       
</p>
<pre class="verbatim" id="verbatim-1">
git subtree pull --prefix=m/Metrics --squash git://github.com/barrywardell/Metrics master
</pre>
<!--l. 383--><p class="nopar" > This will pull in new changes from the <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>repository and merge them with the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span></span>
repository under the <span 
class="cmtt-10">m/Metrics</span> directory.
</p>
<h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-270007"></a>Tests</h3>
<!--l. 390--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">7.1   </span> <a 
 id="x1-280007.1"></a>Correctness tests</h4>
<!--l. 391--><p class="noindent" >There are correctness tests for the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>thorns under the <span 
class="cmtt-10">tests</span> directory. These tests include:
</p>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 394--><p class="noindent" >Checks that the solutions provided by the <span 
class="cmcsc-10">E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>thorn converge to those provided by each of the
     <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>thorns at the appropriate order.
     </p></li>
     <li class="itemize">
     <!--l. 396--><p class="noindent" >Checks that the constraints for the solutions provided by each of the <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>converge to
     \(0\) at the appropriate order.</p></li></ul>
<!--l. 399--><p class="noindent" >In addition, the <span 
class="cmcsc-10">M<span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">s</span> </span>package has independent correctness tests which check that the provided metrics are
correct.
</p><!--l. 402--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">7.2   </span> <a 
 id="x1-290007.2"></a>Regression tests</h4>
                                                                                       
                                                                                       
<!--l. 403--><p class="noindent" >Each thorn provided by <span 
class="cmcsc-10">E<span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span>E<span 
class="small-caps">x</span><span 
class="small-caps">a</span><span 
class="small-caps">c</span><span 
class="small-caps">t</span> </span>has a corresponding regression test in the <span 
class="cmtt-10">EinsteinExact</span><span 
class="cmtt-10">_code</span> thorn
which checks that no new bugs are introduced in the code.
</p><!--l. 407--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">8   </span> <a 
 id="x1-300008"></a>Acknowledgments</h3>
<!--l. 408--><p class="noindent" >Erik Schnetter contributed helpful comments and suggestions, along with some patches for the
code.
</p><!--l. 411--><p class="noindent" >
</p>
<h3 class="likesectionHead"><a 
 id="x1-31000"></a>References</h3>
<!--l. 411--><p class="noindent" >
     </p><div class="thebibliography">
     <p class="bibitem" ><span class="biblabel">
   [1]<span class="bibsp">   </span></span><a 
 id="XEinsteinExact_Euler"></a>Eric     W.     Weisstein,     <span 
class="cmti-10">Euler    Angles</span>,     MathWorld–A     Wolfram     Web     Resource.
     <a 
href="http://mathworld.wolfram.com/EulerAngles.html" class="url" ><span 
class="cmtt-10">http://mathworld.wolfram.com/EulerAngles.html</span></a>
</p>
     </div>
 
</body></html> 

                                                                                       


